---
import BaseLayout from '../../layouts/BaseLayout.astro';
import { getAllTags } from '../../utils/posts';

const tags = await getAllTags();
const sortedTags = [...tags.entries()].sort((a, b) => b[1] - a[1]);
---

<BaseLayout title="Tags â€” Vladyslav Semenchenko" description="Browse all post tags.">
  <section class="mx-auto max-w-5xl px-4 pt-12 pb-12 sm:pt-16 sm:pb-16">
    <h1 class="text-3xl font-bold tracking-tight text-zinc-900 dark:text-zinc-100 sm:text-4xl">
      Tags
    </h1>
    <p class="mt-2 text-zinc-600 dark:text-zinc-400">
      Browse posts by topic.
    </p>

    <div class="mt-10 flex flex-wrap gap-3">
      {sortedTags.map(([tag, count]) => (
        <a
          href={`/tags/${tag}`}
          class="inline-flex items-center gap-2 rounded-full border border-zinc-200 bg-white px-4 py-2 text-sm font-medium text-zinc-700 shadow-sm transition-colors hover:border-accent-300 hover:text-accent-600 dark:border-zinc-700 dark:bg-zinc-800 dark:text-zinc-300 dark:hover:border-accent-700 dark:hover:text-accent-400"
        >
          {tag}
          <span class="rounded-full bg-zinc-100 px-2 py-0.5 text-xs text-zinc-500 dark:bg-zinc-700 dark:text-zinc-400">
            {count}
          </span>
        </a>
      ))}
    </div>
  </section>
</BaseLayout>
